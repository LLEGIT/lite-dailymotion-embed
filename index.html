<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lite Dailymotion Embed - Development</title>
  <link rel="stylesheet" href="/src/lite-dailymotion-embed.css">
</head>
<body>
  <div class="container" style="max-width: 800px; margin: 0 auto; padding: 20px;">
    <h1>Lite Dailymotion Embed - Development</h1>
    
    <h2>Basic Example</h2>
    <div 
      data-dailymotion-id="x7u31wn"
      data-title="Sample Dailymotion Video"
      style="margin-bottom: 2rem;"
    ></div>

    <h2>Custom Configuration</h2>
    <div 
      data-dailymotion-id="x5e9eog"
      data-title="Custom Video with Settings"
      data-autoplay="false"
      data-mute="true"
      data-start-time="30"
      data-custom-class="custom-embed"
      style="margin-bottom: 2rem;"
    ></div>

    <h2>No Lazy Loading</h2>
    <div 
      data-dailymotion-id="x7u31wn"
      data-title="Video with No Lazy Loading"
      data-nolazy="true"
      style="margin-bottom: 2rem;"
    ></div>

    <h2>Custom Aspect Ratio</h2>
    <div 
      data-dailymotion-id="x7u31wn"
      data-title="Square Video"
      data-aspect-ratio="1"
      style="margin-bottom: 2rem;"
    ></div>

    <h2>Programmatic Example</h2>
    <div id="programmatic-embed" style="margin-bottom: 2rem;"></div>

    <h2>API Usage</h2>
    <div style="margin-bottom: 2rem;">
      <button id="get-state">Get State</button>
      <button id="get-metrics">Get Metrics</button>
      <button id="activate-embed">Activate First Embed</button>
      <button id="destroy-embed">Destroy First Embed</button>
      <pre id="output" style="background: #f5f5f5; padding: 1rem; margin-top: 1rem;"></pre>
    </div>
  </div>

  <script type="module">
    import { LiteDailymotionEmbed } from '/src/index.ts'

    // Create programmatic embed
    const programmaticContainer = document.getElementById('programmatic-embed')
    const programmaticEmbed = new LiteDailymotionEmbed(programmaticContainer, {
      videoId: 'x7u31wn',
      title: 'Programmatically Created Video',
      autoplay: true,
      mute: false,
      customClass: 'programmatic-embed',
      onActivated: (element) => {
        console.log('Video activated:', element)
        updateOutput('Video activated programmatically!')
      }
    })

    // Get all auto-initialized embeds
    const embeds = LiteDailymotionEmbed.initAll()
    console.log('Auto-initialized embeds:', embeds)

    // API demo functions
    const output = document.getElementById('output')
    
    function updateOutput(text) {
      output.textContent = text
    }

    document.getElementById('get-state').addEventListener('click', () => {
      if (embeds.length > 0) {
        const state = embeds[0].getState()
        updateOutput(JSON.stringify(state, null, 2))
      } else {
        updateOutput('No embeds available')
      }
    })

    document.getElementById('get-metrics').addEventListener('click', () => {
      if (embeds.length > 0) {
        const metrics = embeds[0].getMetrics()
        updateOutput(JSON.stringify(metrics, null, 2))
      } else {
        updateOutput('No embeds available')
      }
    })

    document.getElementById('activate-embed').addEventListener('click', () => {
      if (embeds.length > 0) {
        embeds[0].play()
        updateOutput('First embed activated')
      } else {
        updateOutput('No embeds available')
      }
    })

    document.getElementById('destroy-embed').addEventListener('click', () => {
      if (embeds.length > 0) {
        embeds[0].destroy()
        updateOutput('First embed destroyed')
      } else {
        updateOutput('No embeds available')
      }
    })

    // Accessibility demonstration
    document.addEventListener('keydown', (e) => {
      if (e.key === 'h' && e.ctrlKey) {
        // Help shortcut
        alert('Keyboard shortcuts:\n- Tab: Navigate to play buttons\n- Enter/Space: Activate video\n- Ctrl+H: Show this help')
      }
    })
  </script>

  <style>
    .container {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
    }
    
    h1, h2 {
      color: #333;
    }
    
    button {
      background: #ff6900;
      color: white;
      border: none;
      padding: 8px 16px;
      margin: 4px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    button:hover {
      background: #e55a00;
    }
    
    button:focus {
      outline: 2px solid #0066cc;
      outline-offset: 2px;
    }
    
    .custom-embed {
      border: 2px solid #ff6900;
      border-radius: 8px;
    }
    
    .programmatic-embed {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      border-radius: 12px;
    }
  </style>
</body>
</html>
